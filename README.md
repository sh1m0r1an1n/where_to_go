# Where to go

Интерактивная карта интересных мест Москвы с фотографиями и описаниями. Сайт позволяет изучать достопримечательности столицы, просматривать фотографии и читать подробные описания каждого места.

## Функциональность

- **Интерактивная карта** с отмеченными интересными местами
- **Просмотр фотографий** в удобном формате
- **Подробные описания** каждого места
- **Адаптивный дизайн** для комфортного просмотра на мобильных устройствах
- **Удобная админка** для управления контентом

## Требования

- Python 3.6+
- Django 5.2

## Установка и запуск

1. **Скачайте репозиторий:**
```bash
git clone https://github.com/sh1m0r1an1n/where_to_go.git
cd where_to_go
```

2. **Создайте виртуальное окружение:**
```bash
python -m venv venv
source venv/bin/activate  # Linux/Mac
# или
venv\Scripts\activate  # Windows
```

3. **Установите зависимости:**
```bash
pip install -r requirements.txt
```

4. **Настройте переменные окружения:**
Создайте файл `.env` в корневой папке проекта:
```env
SECRET_KEY=your-secret-key-here # Секретный ключ Django (обязательно)
DEBUG=True # Режим отладки (по умолчанию False)
ALLOWED_HOSTS=localhost,127.0.0.1 # Разрешенные домены
```

5. **Выполните миграции:**
```bash
python manage.py migrate
```

6. **Создайте суперпользователя:**
```bash
python manage.py createsuperuser
```

7. **Запустите сервер:**
```bash
python manage.py runserver
```

8. **Откройте в браузере:**
- Сайт: http://127.0.0.1:8000/
- Админка: http://127.0.0.1:8000/admin/

## Принцип работы

Проект работает по простой схеме:

1. **Загрузка данных**: Контент-менеджеры через админку Django добавляют места с их описаниями, координатами и фотографиями
2. **Хранение файлов**: Все загруженные фотографии сохраняются в папку `media/` проекта (создается автоматически)
3. **Отображение на карте**: Главная страница использует подготовленный `index.html` шаблон для отображения всех мест на интерактивной карте
4. **API для деталей**: Для каждого места доступен API endpoint `/places/<id>/` с подробной информацией в JSON формате

### API

- **GET /** - главная страница с картой всех мест
- **GET /places/{id}/** - детальная информация о конкретном месте в JSON формате

Пример ответа API:
```json
{
    "title": "Название места",
    "imgs": ["media/places/place_1/image1.jpg", "media/places/place_1/image2.jpg"],
    "description_short": "Краткое описание",
    "description_long": "Подробное описание с HTML разметкой",
    "coordinates": {"lat": 55.123456, "lng": 37.654321}
}
```

## Работа с админкой

### Для контент-менеджеров

1. **Зайдите в админку** по адресу `/admin/`
2. **Добавление нового места:**
   - Перейдите в раздел "Места"
   - Нажмите "Добавить место"
   - Заполните название, координаты и описания
   - Добавьте фотографии через inline-формы
   - Перетащите фотографии в нужном порядке

3. **Редактирование описаний:**
   - Краткое описание: обычный текст
   - Подробное описание: WYSIWYG-редактор с форматированием

4. **Управление фотографиями:**
   - Добавляйте новые фотографии (автоматически сохраняются в `media/places/`)
   - Удаляйте ненужные
   - Перетаскивайте мышкой для изменения порядка

### Особенности админки

- **Поиск по местам** - можно искать по названию и описанию
- **Drag-and-drop сортировка** фотографий
- **Превью изображений** для удобства работы
- **Автоматическая нумерация** фотографий

## Технологии

- **Django 5.2** - веб-фреймворк
- **SQLite** - база данных
- **Leaflet** - интерактивная карта
- **TinyMCE** - WYSIWYG-редактор
- **AdminSortable2** - сортировка в админке

## Цель проекта

Код написан в учебных целях — это урок в курсе по Python и веб-разработке на сайте [Devman](https://dvmn.org).

Исходные данные взяты с сайта [KudaGo](https://kudago.com).

## Лицензия

Проект распространяется под лицензией MIT.
